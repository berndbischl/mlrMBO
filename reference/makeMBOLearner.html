<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate default learner. — makeMBOLearner • mlrMBO</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate default learner. — makeMBOLearner" />
<meta property="og:description" content="This is a helper function that generates a default surrogate, based on properties of the objective
function and the selected infill criterion.
For numeric-only (including integers) parameter spaces without any dependencies:
A Kriging model &amp;#8220;regr.km&amp;#8221; with kernel &amp;#8220;matern3_2&amp;#8221; is created.
If the objective function is deterministic we add a small nugget effect (10^-8*Var(y),
  y is vector of observed outcomes in current design) to increase numerical stability to
  hopefully prevent crashes of DiceKriging.
If the objective function is noisy the nugget effect will be estimated with
  nugget.estim = TRUE (but you can override this in ....
  Also jitter is set to TRUE to circumvent a problem with DiceKriging where already
  trained input values produce the exact trained output.
  For further information check the $note slot of the created learner.
Instead of the default &quot;BFGS&quot; optimization method we use rgenoud (&quot;gen&quot;),
  which is a hybrid algorithm, to combine global search based on genetic algorithms and local search
  based on gradients.
  This may improve the model fit and will less frequently produce a constant surrogate model.
  You can also override this setting in ....


For mixed numeric-categorical parameter spaces, or spaces with conditional parameters:
A random regression forest &amp;#8220;regr.randomForest&amp;#8221; with 500 trees is created.
The standard error of a prediction (if required by the infill criterion) is estimated
  by computing the jackknife-after-bootstrap.
  This is the se.method = &quot;jackknife&quot; option of the &amp;#8220;regr.randomForest&amp;#8221; Learner.


If additionally dependencies are in present in the parameter space, inactive conditional parameters
are represented by missing NA values in the training design data.frame.
We simply handle those with an imputation method, added to the random forest:
If a numeric value is inactive, i.e., missing, it will be imputed by 2 times the
  maximum of observed values
If a categorical value is inactive, i.e., missing, it will be imputed by the
  special class label &quot;__miss__&quot;
Both of these techniques make sense for tree-based methods and are usually hard to beat, see
Ding et.al. (2010)." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org" /></a>
        <a class="navbar-brand" href="../index.html">mlrMBO <small>v1.1.5-9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/mlrMBO.html">
    <span class="fa fa-bolt"></span>
     
    Quickstart
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-file-text-o"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/supplementary/mixed_space_optimization.html">Mixed Space Optimization</a>
    </li>
    <li>
      <a href="../articles/supplementary/parallelization.html">Parallelization</a>
    </li>
    <li>
      <a href="../articles/supplementary/noisy_optimization.html">Noisy Optimization</a>
    </li>
    <li>
      <a href="../articles/supplementary/infill_criteria.html">Infill Criteria</a>
    </li>
    <li>
      <a href="../articles/supplementary/machine_learning_with_mlrmbo.html">Machine learning with mlrMBO</a>
    </li>
    <li>
      <a href="../articles/supplementary/human_in_the_loop_MBO.html">Human-in-the-loop MBO</a>
    </li>
    <li>
      <a href="../articles/supplementary/mlrmbo_and_the_command_line.html">mlrMBO and the Command Line</a>
    </li>
    <li>
      <a href="../articles/supplementary/adaptive_infill_criteria.html">Adaptive Infill Criteria</a>
    </li>
    <li>
      <a href="../articles/supplementary/warmstart.html">Warm Starting Optimization</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlrMBO/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate default learner.</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/mlrMBO/blob/master/R/makeMBOLearner.R'><code>R/makeMBOLearner.R</code></a></small>
    <div class="hidden name"><code>makeMBOLearner.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a helper function that generates a default surrogate, based on properties of the objective
function and the selected infill criterion.</p>
<p>For numeric-only (including integers) parameter spaces without any dependencies:</p><ul>
<li><p>A Kriging model &#8220;regr.km&#8221; with kernel &#8220;matern3_2&#8221; is created.</p></li>
<li><p>If the objective function is deterministic we add a small nugget effect (10^-8*Var(y),
  y is vector of observed outcomes in current design) to increase numerical stability to
  hopefully prevent crashes of DiceKriging.</p></li>
<li><p>If the objective function is noisy the nugget effect will be estimated with
  <code>nugget.estim = TRUE</code> (but you can override this in <code>...</code>.
  Also <code>jitter</code> is set to <code>TRUE</code> to circumvent a problem with DiceKriging where already
  trained input values produce the exact trained output.
  For further information check the <code>$note</code> slot of the created learner.</p></li>
<li><p>Instead of the default <code>"BFGS"</code> optimization method we use rgenoud (<code>"gen"</code>),
  which is a hybrid algorithm, to combine global search based on genetic algorithms and local search
  based on gradients.
  This may improve the model fit and will less frequently produce a constant surrogate model.
  You can also override this setting in <code>...</code>.</p></li>
</ul>

<p>For mixed numeric-categorical parameter spaces, or spaces with conditional parameters:</p><ul>
<li><p>A random regression forest &#8220;regr.randomForest&#8221; with 500 trees is created.</p></li>
<li><p>The standard error of a prediction (if required by the infill criterion) is estimated
  by computing the jackknife-after-bootstrap.
  This is the <code>se.method = "jackknife"</code> option of the &#8220;regr.randomForest&#8221; Learner.</p></li>
</ul>

<p>If additionally dependencies are in present in the parameter space, inactive conditional parameters
are represented by missing <code>NA</code> values in the training design data.frame.
We simply handle those with an imputation method, added to the random forest:</p><ul>
<li><p>If a numeric value is inactive, i.e., missing, it will be imputed by 2 times the
  maximum of observed values</p></li>
<li><p>If a categorical value is inactive, i.e., missing, it will be imputed by the
  special class label <code>"__miss__"</code></p></li>
</ul><p>Both of these techniques make sense for tree-based methods and are usually hard to beat, see
Ding et.al. (2010).</p>
    </div>

    <pre class="usage"><span class='fu'>makeMBOLearner</span><span class='op'>(</span><span class='va'>control</span>, <span class='va'>fun</span>, config <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>control</th>
      <td><p>[<code><a href='makeMBOControl.html'>MBOControl</a></code>]<br />
Control object for mbo.</p></td>
    </tr>
    <tr>
      <th>fun</th>
      <td><p>[<code>smoof_function</code>] <br />
The same objective function which is also passed to <code><a href='mbo.html'>mbo</a></code>.</p></td>
    </tr>
    <tr>
      <th>config</th>
      <td><p>[<code>named list</code>] <br />
Named list of config option to overwrite global settings set via <code><a href='https://mlr.mlr-org.com/reference/configureMlr.html'>configureMlr</a></code> for this specific learner.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>[any]<br />
Further parameters passed to the constructed learner.
Will overwrite mlrMBO's defaults.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>[<code>Learner</code>]</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ding, Yufeng, and Jeffrey S. Simonoff. An investigation of missing data methods for
classification trees applied to binary response data.
Journal of Machine Learning Research 11.Jan (2010): 131-170.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bernd Bischl, Jakob Richter, Jakob Bossek, Daniel Horn, Michel Lang, Janek Thomas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


