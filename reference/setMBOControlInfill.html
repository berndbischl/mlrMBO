<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extends mbo control object with infill criteria and infill optimizer options. — setMBOControlInfill • mlrMBO</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extends mbo control object with infill criteria and infill optimizer options. — setMBOControlInfill" />
<meta property="og:description" content="Please note that internally all infill criteria are minimized. So for some of them,
we internally compute their negated version, e.g., for EI or also for CB when the objective is to
be maximized. In the latter case mlrMBO actually computes the negative upper confidence bound and
minimizes that." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org" /></a>
        <a class="navbar-brand" href="../index.html">mlrMBO <small>v1.1.5-9000</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/mlrMBO.html">
    <span class="fa fa-bolt"></span>
     
    Quickstart
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-file-text-o"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/supplementary/mixed_space_optimization.html">Mixed Space Optimization</a>
    </li>
    <li>
      <a href="../articles/supplementary/parallelization.html">Parallelization</a>
    </li>
    <li>
      <a href="../articles/supplementary/noisy_optimization.html">Noisy Optimization</a>
    </li>
    <li>
      <a href="../articles/supplementary/infill_criteria.html">Infill Criteria</a>
    </li>
    <li>
      <a href="../articles/supplementary/machine_learning_with_mlrmbo.html">Machine learning with mlrMBO</a>
    </li>
    <li>
      <a href="../articles/supplementary/human_in_the_loop_MBO.html">Human-in-the-loop MBO</a>
    </li>
    <li>
      <a href="../articles/supplementary/mlrmbo_and_the_command_line.html">mlrMBO and the Command Line</a>
    </li>
    <li>
      <a href="../articles/supplementary/adaptive_infill_criteria.html">Adaptive Infill Criteria</a>
    </li>
    <li>
      <a href="../articles/supplementary/warmstart.html">Warm Starting Optimization</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlrMBO/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extends mbo control object with infill criteria and infill optimizer options.</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/mlrMBO/blob/master/R/setMBOControlInfill.R'><code>R/setMBOControlInfill.R</code></a></small>
    <div class="hidden name"><code>setMBOControlInfill.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Please note that internally all infill criteria are minimized. So for some of them,
we internally compute their negated version, e.g., for EI or also for CB when the objective is to
be maximized. In the latter case mlrMBO actually computes the negative upper confidence bound and
minimizes that.</p>
    </div>

    <pre class="usage"><span class='fu'>setMBOControlInfill</span><span class='op'>(</span>
  <span class='va'>control</span>,
  crit <span class='op'>=</span> <span class='cn'>NULL</span>,
  interleave.random.points <span class='op'>=</span> <span class='fl'>0L</span>,
  filter.proposed.points <span class='op'>=</span> <span class='cn'>NULL</span>,
  filter.proposed.points.tol <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt <span class='op'>=</span> <span class='st'>"focussearch"</span>,
  opt.restarts <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.focussearch.maxit <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.focussearch.points <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.cmaes.control <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.maxit <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.mu <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.sbx.eta <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.sbx.p <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.pm.eta <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.pm.p <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.ea.lambda <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.nsga2.popsize <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.nsga2.generations <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.nsga2.cprob <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.nsga2.cdist <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.nsga2.mprob <span class='op'>=</span> <span class='cn'>NULL</span>,
  opt.nsga2.mdist <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>control</th>
      <td><p>[<code><a href='makeMBOControl.html'>MBOControl</a></code>]<br />
Control object for mbo.</p></td>
    </tr>
    <tr>
      <th>crit</th>
      <td><p>[<code><a href='makeMBOInfillCrit.html'>MBOInfillCrit</a></code>]<br />
How should infill points be rated. See <code><a href='infillcrits.html'>infillcrits</a></code> for an overview
of available infill criteria or implement a custom one via <code><a href='makeMBOInfillCrit.html'>makeMBOInfillCrit</a></code>.#
Default is &#8220;(lower) confidence bound&#8221; (see <code><a href='infillcrits.html'>makeMBOInfillCritCB</a></code>).</p></td>
    </tr>
    <tr>
      <th>interleave.random.points</th>
      <td><p>[<code>integer(1)</code>]<br />
Add <code>interleave.random.points</code> uniformly sampled points additionally to the
regular proposed points in each step.
If <code>crit="random"</code> this value will be neglected.
Default is 0.</p></td>
    </tr>
    <tr>
      <th>filter.proposed.points</th>
      <td><p>[<code>logical(1)</code>]<br />
Design points located too close to each other can lead to
numerical problems when using e.g. kriging as a surrogate model.
This may solve the 'leading minor of order ...' error during model fit.
This parameter activates or deactivates a heuristic to handle this issue.
If <code>TRUE</code>, proposed points whose distance to design points or other current
candidate points is smaller than <code>filter.proposed.points.tol</code>, are replaced by random points.
If enabled, the column entry for <code>prop.type</code> is set to &#8220;random_filter&#8221; in the resulting <code>opt.path</code>,
so you can see whether such a replacement happened.
This does only work for numeric parameter sets without any discrete parameters.
Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>filter.proposed.points.tol</th>
      <td><p>[<code>numeric(1)</code>]<br />
Tolerance value filtering of proposed points. We currently use a maximum metric
to calculate the distance between points.
Default is 0.0001.</p></td>
    </tr>
    <tr>
      <th>opt</th>
      <td><p>[<code>character(1)</code>]<br />
How should SINGLE points be proposed by using the surrogate model. Possible values are:
&#8220;focussearch&#8221;: In several iteration steps the parameter space is
focused on an especial promising region according to infill criterion.
&#8220;cmaes&#8221;: Use CMA-ES (function <code><a href='https://rdrr.io/pkg/cmaesr/man/cmaes.html'>cmaes</a></code> from package <span class="pkg">cmaesr</span>
to optimize infill criterion. If all CMA-ES runs fail, a random point is generated
instead and a warning informs about it.
&#8220;ea&#8221;: Use an (mu+1) EA to optimize infill criterion.
&#8220;nsga2&#8221;: NSGA2 for multi obj. optimizations. Needed for mspot.
Default is &#8220;focussearch&#8221;.
Alternatively, you may pass a function name as string.</p></td>
    </tr>
    <tr>
      <th>opt.restarts</th>
      <td><p>[<code>integer(1)</code>]<br />
Number of independent restarts for optimizer of infill criterion.
If <code>opt == "cmaes"</code> the first start point for the optimizer is always the
currently best point in the design of already visited points. Subsequent starting
points are chosen according to the CMA-ES restart strategy introduced by Auger
and Hansen. For details see the corresponding paper in the references and the help
page of the underlying optimizer <code><a href='https://rdrr.io/pkg/cmaesr/man/cmaes.html'>cmaes</a></code>.
Default is 3.</p></td>
    </tr>
    <tr>
      <th>opt.focussearch.maxit</th>
      <td><p>[<code>integer(1)</code>]<br />
For <code>opt = "focussearch"</code>:
Number of iteration to shrink local focus.
Default is 5.</p></td>
    </tr>
    <tr>
      <th>opt.focussearch.points</th>
      <td><p>[<code>integer(1)</code>]<br />
For <code>opt = "focussearch"</code>:
Number of points in each iteration of the focus search optimizer.
Default is 1000.</p></td>
    </tr>
    <tr>
      <th>opt.cmaes.control</th>
      <td><p>[<code>list</code>]<br />
For <code>opt = "cmaes"</code>:
Control argument for cmaes optimizer.
For the default see the help page of the underlying optimizer <code><a href='https://rdrr.io/pkg/cmaesr/man/cmaes.html'>cmaes</a></code>.</p></td>
    </tr>
    <tr>
      <th>opt.ea.maxit</th>
      <td><p>[<code>integer(1)</code>]<br />
For <code>opt = "ea"</code>:
Number of iterations / generations of EA.
Default is 500.</p></td>
    </tr>
    <tr>
      <th>opt.ea.mu</th>
      <td><p>[<code>integer(1)</code>]<br />
For <code>opt = "ea"</code>:
Population size of EA.
The default is 10 times the number of parameters of the function to optimize.</p></td>
    </tr>
    <tr>
      <th>opt.ea.sbx.eta</th>
      <td><p>[<code>numeric(1)</code>]<br />
For <code>opt = "ea"</code>:
Distance parameter of crossover distribution , see <code><a href='https://rdrr.io/pkg/emoa/man/sbx_operator.html'>sbx_operator</a></code>.
Default is 15.</p></td>
    </tr>
    <tr>
      <th>opt.ea.sbx.p</th>
      <td><p>[<code>numeric(1)</code>]<br />
For <code>opt = "ea"</code>:
Probability of 1-point crossover, see <code><a href='https://rdrr.io/pkg/emoa/man/sbx_operator.html'>sbx_operator</a></code>.
Default is 0.5.</p></td>
    </tr>
    <tr>
      <th>opt.ea.pm.eta</th>
      <td><p>[<code>numeric(1)</code>]<br />
For <code>opt = "ea"</code>:
Distance parameter of mutation distribution, see <code><a href='https://rdrr.io/pkg/emoa/man/pm_operator.html'>pm_operator</a></code>.
Default is 15.</p></td>
    </tr>
    <tr>
      <th>opt.ea.pm.p</th>
      <td><p>[<code>numeric(1)</code>]<br />
For <code>opt = "ea"</code>:
Probability of 1-point mutation, see <code><a href='https://rdrr.io/pkg/emoa/man/pm_operator.html'>pm_operator</a></code>.
Default is 0.5.</p></td>
    </tr>
    <tr>
      <th>opt.ea.lambda</th>
      <td><p>[<code>integer{1}</code>]<br />
For <code>opt.ea = "ea"</code>.
Number of children generated in each generation.
Default is 1.</p></td>
    </tr>
    <tr>
      <th>opt.nsga2.popsize</th>
      <td><p>[<code>integer{1}</code>]<br />
For <code>opt.multiobj.method = "nsga2"</code>.
Population size of nsga2.
Default is 100.</p></td>
    </tr>
    <tr>
      <th>opt.nsga2.generations</th>
      <td><p>[<code>integer{1}</code>]<br />
For <code>opt.multiobj.method = "nsga2"</code>.
Number of populations for of nsga2.
Default is 50.</p></td>
    </tr>
    <tr>
      <th>opt.nsga2.cprob</th>
      <td><p>[<code>numeric{1}</code>]<br />
For <code>opt.multiobj.method = "nsga2"</code>.
nsga2 param. Default is 0.7.</p></td>
    </tr>
    <tr>
      <th>opt.nsga2.cdist</th>
      <td><p>[<code>numeric{1}</code>]<br />
For <code>opt.multiobj.method = "nsga2"</code>.
nsga2 param. Default is 5.</p></td>
    </tr>
    <tr>
      <th>opt.nsga2.mprob</th>
      <td><p>[<code>numeric{1}</code>]<br />
For <code>opt.multiobj.method = "nsga2"</code>.
nsga2 param. Default is 0.2.</p></td>
    </tr>
    <tr>
      <th>opt.nsga2.mdist</th>
      <td><p>[<code>numeric{1}</code>]<br />
For <code>opt.multiobj.method = "nsga2"</code>.
nsga2 param. Default is 10.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>[<code><a href='makeMBOControl.html'>MBOControl</a></code>].</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other MBOControl: 
<code><a href='makeMBOControl.html'>makeMBOControl</a>()</code>,
<code><a href='setMBOControlMultiObj.html'>setMBOControlMultiObj</a>()</code>,
<code><a href='setMBOControlMultiPoint.html'>setMBOControlMultiPoint</a>()</code>,
<code><a href='setMBOControlTermination.html'>setMBOControlTermination</a>()</code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bernd Bischl, Jakob Richter, Jakob Bossek, Daniel Horn, Michel Lang, Janek Thomas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


